<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<!--suppress JavaFxUnresolvedStyleClassReference -->
<ScrollPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="commonground.controllers.UserController"
            fitToWidth="true"
            fitToHeight="true"
            pannable="true"
            styleClass="root">

    <BorderPane styleClass="scene-padding">

        <top>
            <!-- Centered header card -->
            <StackPane>
                <BorderPane maxWidth="1100" styleClass="header-card">
                    <left>
                        <Label text="USER - Manage Connections" styleClass="page-title"/>
                    </left>

                    <center>
                        <Label fx:id="statusLabel" styleClass="muted"/>
                    </center>

                    <right>
                        <HBox spacing="10" alignment="CENTER_RIGHT">
                            <Button text="Back" onAction="#back" styleClass="btn secondary-btn"/>
                            <Button text="Refresh Users" onAction="#refreshUsers" styleClass="btn secondary-btn"/>
                        </HBox>
                    </right>
                </BorderPane>
            </StackPane>
        </top>

        <left>
            <VBox spacing="12" styleClass="side-card">
                <Label text="Connect users" styleClass="section-title"/>
                <TextField fx:id="u1Field" promptText="first username"/>
                <TextField fx:id="u2Field" promptText="second username"/>
                <Button text="Add connection" onAction="#addConnection" styleClass="btn primary-btn"/>

                <Separator/>

                <Label text="Remove connection" styleClass="section-title"/>
                <TextField fx:id="ru1Field" promptText="first username"/>
                <TextField fx:id="ru2Field" promptText="second username"/>
                <Button text="Remove connection" onAction="#removeConnection" styleClass="btn danger-btn"/>

                <Separator/>

                <Label text="Show connections for username" styleClass="section-title"/>
                <TextField fx:id="showUserField" promptText="username"/>
                <Button text="Load connections" onAction="#loadConnections" styleClass="btn secondary-btn"/>

                <Separator/>

                <Label text="Manage interests" styleClass="section-title"/>
                <TextField fx:id="interestUserField" promptText="username"/>

                <TextField fx:id="addInterestField" promptText="add interests (comma separated)"/>
                <Button text="Add interest(s)" onAction="#addInterest" styleClass="btn primary-btn"/>

                <TextField fx:id="removeInterestField" promptText="remove one interest (exact label)"/>
                <Button text="Remove interest" onAction="#removeInterest" styleClass="btn danger-btn"/>

            </VBox>
        </left>

        <center>
            <StackPane style="-fx-padding: 12 0 0 12;">
                <SplitPane orientation="VERTICAL" dividerPositions="0.55" prefWidth="900" prefHeight="650">
                    <TableView fx:id="usersTable">
                        <columns>
                            <TableColumn fx:id="idCol" text="ID" />
                            <TableColumn fx:id="nameCol" text="Name" prefWidth="200"/>
                            <TableColumn fx:id="usernameCol" text="Username" prefWidth="200"/>
                            <TableColumn fx:id="avatarCol" text="Avatar" prefWidth="250"/>
                            <TableColumn fx:id="interestsCol" text="Interests" prefWidth="250"/>
                        </columns>
                    </TableView>

                    <ListView fx:id="connectionsList"/>
                </SplitPane>
            </StackPane>
        </center>

    </BorderPane>
</ScrollPane>
